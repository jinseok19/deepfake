# 📁 실험 로그 관리 가이드

이 폴더는 딥페이크 탐지 모델 실험의 모든 기록을 체계적으로 관리합니다.

## 🚀 빠른 시작

- **처음이라면**: [PIPELINE_GUIDE.md](PIPELINE_GUIDE.md) 먼저 읽기 (전처리/모델링/후처리 이해)
- **실험 계획**: [TEMPLATE.md](TEMPLATE.md) 복사
- **전체 현황**: [LOG_SUMMARY.md](LOG_SUMMARY.md) 확인
- **상세 분석**: [EXP-001.md](EXP-001.md) 참고

---

## 📂 폴더 구조

```
log/
├── README.md                # 이 파일 (사용 가이드)
├── PIPELINE_GUIDE.md        # 🔄 파이프라인 가이드 (전처리/모델링/후처리)
├── LOG_SUMMARY.md           # 📊 전체 실험 요약 (계속 업데이트)
├── TEMPLATE.md              # 📋 실험 템플릿
├── EXP-001.md               # 실험 1 상세 기록
├── EXP-002.md               # 실험 2 상세 기록
└── EXP-XXX.md               # 실험 X 상세 기록
```

---

## 🔄 실험 프로세스

### 1️⃣ 실험 계획
```bash
# TEMPLATE.md 복사
cp log/TEMPLATE.md log/EXP-XXX.md

# 편집
- 실험 번호 변경
- 목표 작성
- 변경할 파라미터 작성
```

### 2️⃣ 실험 실행
```bash
# 제출 전
1. 파라미터 변경
2. 로컬 검증 (선택)
3. 제출

# 제출 후
4. 결과 대기 (50-60분)
5. 리더보드 확인
```

### 3️⃣ 결과 기록
```bash
# EXP-XXX.md 업데이트
1. 📊 실험 결과 섹션 작성
2. 📊 점수 분석 섹션 작성
3. 💡 최종 정리 작성
4. 🎯 다음 실험 계획 작성
```

### 4️⃣ 요약 업데이트
```bash
# LOG_SUMMARY.md 업데이트
1. 실험 진행 현황 표 업데이트
2. 성능 추이 그래프 업데이트
3. 주요 발견 사항 업데이트
4. 다음 실험 방향 업데이트
```

---

## 📝 작성 가이드

### 핵심 구조: 전처리 / 모델링 / 후처리

모든 실험은 다음 3단계로 명확히 구분하여 작성:

```
1️⃣ 전처리 (Pre-processing)
   - 데이터 증강, 얼굴 검출, 크롭, 프레임 샘플링
   - 파라미터: NUM_FRAMES, margin, 증강 설정 등

2️⃣ 모델링 (Modeling)
   - 사용 모델, 파라미터 수, 배치 크기
   - 파라미터: BATCH_SIZE, 모델 구조 등

3️⃣ 후처리 (Post-processing)
   - 확률 집계, 필터링, 임계값
   - 파라미터: MEAN_WEIGHT, MAX_WEIGHT 등
```

### 필수 작성 항목

#### 1. 실험 결과 (반드시!)
- F1 Score
- 순위
- 추론 시간

#### 2. 각 단계별 변경사항 (반드시!)
- **전처리**: 무엇을 어떻게 바꿨는지
- **모델링**: 모델/파라미터 변경
- **후처리**: 집계 방식 변경
- 각 변경의 이유와 예상 효과

#### 3. 점수 분석 (반드시!)
- **단계별 기여도**: 전처리 ±X%, 모델링 ±X%, 후처리 ±X%
- 각 변경사항의 효과 추정
- 가설 검증 결과

#### 4. 다음 계획 (반드시!)
- [전처리/모델링/후처리] 중 어디를 개선할지 명시
- 구체적 파라미터 변경값
- 예상 효과 및 근거

### 권장 작성 항목

- 예상과 다른 점
- 특이사항
- 배운 점
- 주의사항

---

## 🎯 좋은 실험 기록의 예시

### ✅ 좋은 예시

```markdown
## 1️⃣ 전처리 (Pre-processing)

### 변경 사항
| 항목 | 이전 | 현재 | 변경 이유 |
|------|------|------|-----------|
| NUM_FRAMES | 30 | 40 | 정보량 증가로 정확도 향상 |
| margin | 1.3 | 1.4 | 컨텍스트 확대 |

### 전처리 개선 효과
- NUM_FRAMES 증가 → +3~4%
- margin 증가 → +0.5~1%
**총 전처리 기여도: +3.5~5%**

## 3️⃣ 후처리 (Post-processing)

### 변경 사항
| 항목 | 이전 | 현재 | 변경 이유 |
|------|------|------|-----------|
| MEAN_WEIGHT | 0.6 | 0.7 | 평균 신뢰도 증가 |

### 후처리 개선 효과
- 가중치 조정 → +1~2%
**총 후처리 기여도: +1~2%**

---

## 📊 점수 분석
총 개선: +4.8% (0.5354 → 0.5612)

전처리 개선    +3.5~5%  ████████████████
후처리 개선    +1~2%    ████████
모델링 개선    0%       (변경 없음)
```

### ❌ 나쁜 예시

```markdown
### 파라미터 변경
- 이것저것 바꿈
- 프레임 늘리고 뭐 좀 조정함

### 결과
- 점수 올랐음
- 좋은 것 같음

### 다음
- 더 바꿔보기
```

---

## 📊 실험 번호 규칙

### 형식
- **EXP-001**: 첫 번째 실험
- **EXP-002**: 두 번째 실험
- **EXP-XXX**: X번째 실험

### 파일명
- `EXP-001.md` (3자리 숫자)
- `EXP-010.md` (0 패딩)
- `EXP-100.md`

---

## 🔍 빠른 검색

### 실험 찾기
```bash
# 특정 키워드로 검색
grep -r "NUM_FRAMES" log/

# F1 점수 높은 순
grep "F1 Score" log/EXP-*.md | sort
```

### 파라미터 비교
```bash
# 모든 실험의 NUM_FRAMES 확인
grep "NUM_FRAMES" log/EXP-*.md
```

---

## 📈 성능 추적

### 최고 성적 업데이트
```markdown
# LOG_SUMMARY.md에서
## 🏆 최고 성적
- 최고 F1 Score 업데이트
- 해당 실험 번호 업데이트
```

### 실험 진행 현황
```markdown
# 실험마다 표 한 줄씩 추가
| EXP-XXX | 날짜 | 모델 | 점수 | 개선율 | 순위 | 링크 |
```

---

## 🎓 팁

### 실험 시 핵심 원칙

#### 단계별로 명확히 분리
```
잘못된 기록: "파라미터 여러 개 바꿈"
올바른 기록:
  1️⃣ 전처리: NUM_FRAMES 30→40
  2️⃣ 모델링: 변경 없음
  3️⃣ 후처리: MEAN_WEIGHT 0.6→0.7
```

#### 기여도 명확히 추정
```
잘못된 분석: "점수 올랐음"
올바른 분석:
  - 전처리 개선 → +3~4%
  - 후처리 개선 → +1~2%
  - 총 개선: +4~6%
```

### 1. 실험 전 체크리스트
- [ ] TEMPLATE.md 복사
- [ ] 실험 목표 명확히
- [ ] **어떤 단계를 개선할지 결정** (전처리/모델링/후처리)
- [ ] 변경 사항 1-2가지만
- [ ] 가설 수립

### 2. 실험 중 체크리스트
- [ ] 파라미터 기록
- [ ] 제출 시간 기록
- [ ] 스크린샷 캡처

### 3. 실험 후 체크리스트
- [ ] 결과 기록
- [ ] 분석 작성
- [ ] 다음 계획 수립
- [ ] LOG_SUMMARY 업데이트

### 4. 효과적인 실험
- 한 번에 하나씩 변경
- 가설 명확히
- 체계적 기록
- 배운 점 정리

---

## 🚀 다음 실험 준비

### 빠른 시작
```bash
# 1. 템플릿 복사
cp log/TEMPLATE.md log/EXP-002.md

# 2. 편집
code log/EXP-002.md

# 3. LOG_SUMMARY에 추가
# (실험 진행 현황 표에 행 추가)
```

---

## 📞 도움말

### 문제 발생 시
1. 이전 실험 기록 참고
2. LOG_SUMMARY에서 유사 실험 검색
3. 파라미터 변화 추이 확인

### 모범 사례
- EXP-001.md 참고 (첫 실험, 가장 상세)
- TEMPLATE.md 항상 최신 유지
- LOG_SUMMARY.md 매 실험마다 업데이트

---

**마지막 업데이트**: 2024.10.24  
**관리자**: 기진석

